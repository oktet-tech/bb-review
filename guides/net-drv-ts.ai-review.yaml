# AI Review Guidelines for net-drv-ts
# Place this file as .ai-review.yaml in the repository root

focus:
  - bugs          # Logic errors, null checks, edge cases
  - security      # Memory safety, buffer handling
  - performance   # Test efficiency, resource leaks

context: |
  This is a network driver test suite (net-drv-ts) for Linux network drivers.
  The codebase uses the TE (Test Environment) framework.
  
  Key areas to focus on:
  - Proper cleanup in test teardown (avoid resource leaks)
  - Correct use of TE APIs (CHECK_RC, TEST_FAIL, etc.)
  - Memory allocation/deallocation patterns
  - Socket and file descriptor handling
  - Race conditions in async operations
  - Proper error handling and logging
  
  Common patterns:
  - Tests use CHECK_RC() for return code validation
  - TEST_FAIL() for explicit test failures
  - Cleanup should happen in test_end() or via cleanup handlers

ignore_paths:
  - doc/
  - "*.md"
  - "*.txt"
  - meson_options.txt

severity_threshold: medium

custom_rules:
  - "If system changes were done by API other than via configrator/cfg_ they should be rolled back" 
  - "CHECK_RC should be used for all function return values that indicate errors and are not checked otherwise"
  - "rpc_ prefixed functions might not have CHECK_RC or return value checks"
  - "Test names should be descriptive and follow naming conventions"
  - "CHECK_RC should not be used after cleanup:, CLEANUP_CHECK_RC() should be used instead"
